type Query {
  place(placeId: ID!): Place!
  currentUser: User
  places(limit: Int, offset: Int = 0): PlacesResponse!
  filteredPlaces(neighborhood: [String], minRating: Float, additionalInfo: [String]): PlacesResponse!
  favoritePlaces: [FavoritePlace!]!
  placeReviews(placeId: ID!): PlaceReviews!
  userReviewActivity: [UserReviewActivity!]!
  availableAdditionalInfoTags: AdditionalInfoTagsResponse!
  availableNeighborhoods: AvailableNeighborhoodsResponse!
}

type AdditionalInfoTagsResponse {
  tags: [String!]!
}

type AvailableNeighborhoodsResponse {
  neighborhoods: [String!]!
  total: Int!
}

type Mutation {
  # Authentication Mutations
  loginWithGoogle(code: String!): AuthPayload
  signInWithEmail(email: String!, password: String!): AuthPayload!
  registerUser(
    email: String!
    displayName: String!
    password: String!
  ): SuccessResponse!
  resendConfirmationEmail(email: String!): SuccessResponse!
  confirmEmail(token: String!, email: String!): AuthPayload!
  requestPasswordReset(email: String!): SuccessResponse!
  validatePasswordResetToken(email: String!, token: String!): SuccessResponse!
  resetPassword(
    token: String!
    email: String!
    newPassword: String!
  ): SuccessResponse!
  logout: LogoutResponse

  # User Profile Mutations
  updatePersonalData(
    userId: ID!
    displayName: String
    email: String
  ): SuccessResponse!
  setNewPassword(
    userId: ID!
    oldPassword: String
    newPassword: String!
  ): SuccessResponse!
  uploadAvatar(
    userId: ID!
    fileBuffer: String!
    fileName: String!
  ): UploadAvatarResponse!
  deleteAvatar: SuccessResponse!
  deleteAccount: SuccessResponse!

  # Place and Review Mutations
  addRating(placeId: ID!, rating: Float!): AddRatingResponse!
  addTextReview(
    placeId: ID!
    text: String!
    reviewImages: Int
  ): AddTextReviewResponse!
  toggleFavorite(placeId: ID!): Boolean!
  deleteReview(reviewId: ID!, deleteOptions: String!): DeleteReviewResult!
  toggleCharacteristic(
    placeId: ID!
    characteristic: Characteristic!
  ): SuccessResponse!

  # Contact Form Mutation
  contactForm(
    name: String!
    email: String!
    message: String!
  ): ContactFormResponse!
}
